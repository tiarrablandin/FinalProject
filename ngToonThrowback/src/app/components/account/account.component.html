<!----------------------------- update account modal------------------------------>

<ng-template #accountModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Update Account!</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form>
      <div class="mb-3">
        <div class="input-group">
          <form>
            <h1 class="justify-content-center">Update Account!</h1>

            <div class="d-flex justify-content-center" *ngIf="editUser">
              <form class="text-center">
                <input
                  type="text"
                  name="title"
                  class="col form-input form-control"
                  placeholder="Title"
                  style="width: 300px"
                  [(ngModel)]="editUser.username"
                />
                <br />
                <input
                  type="text"
                  name="url"
                  class="col form-input form-control"
                  placeholder="URL"
                  style="width: 300px"
                  [(ngModel)]="editUser.firstName"
                />
                <br />
                <input
                  type="text"
                  name="description"
                  class="col form-input form-control"
                  placeholder="Description"
                  style="width: 300px"
                  [(ngModel)]="editUser.lastName"
                />
                <br />
                <input
                  type="text"
                  name="season"
                  class="col form-input form-control"
                  placeholder="Season"
                  style="width: 300px"
                  [(ngModel)]="editUser.bio"
                />
                <br />
                <input
                  type="text"
                  name="episodeNum"
                  class="col form-input form-control"
                  placeholder="Episode Number"
                  style="width: 300px"
                  [(ngModel)]="editUser.email"
                />
                <br />
                <input
                  type="text"
                  name="image"
                  class="col form-input form-control"
                  placeholder="Cartoon Image"
                  style="width: 300px"
                  [(ngModel)]="editUser.image"
                />
                <br />
              </form>
            </div>
          </form>
          <br /><br />
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button class="button" (click)="updateUser(); modal.dismiss('Cross click')">
      Submit
    </button>
  </div>
</ng-template>

<!--------------------- update media modal ------------------------->

<ng-template #mediaModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Update Media!</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form>
      <div class="mb-3">
        <div class="input-group">
          <form>
            <h1 class="justify-content-center">Update Media!</h1>

            <div class="d-flex justify-content-center" *ngIf="editMedia">
              <form class="text-center">
                <input
                  type="text"
                  name="title"
                  class="col form-input form-control"
                  placeholder="Title"
                  style="width: 300px"
                  [(ngModel)]="editMedia.title"
                />
                <br />
                <input
                  type="text"
                  name="url"
                  class="col form-input form-control"
                  placeholder="URL"
                  style="width: 300px"
                  [(ngModel)]="editMedia.url"
                />
                <br />
                <input
                  type="text"
                  name="description"
                  class="col form-input form-control"
                  placeholder="Description"
                  style="width: 300px"
                  [(ngModel)]="editMedia.description"
                />
                <br />
                <input
                  type="text"
                  name="season"
                  class="col form-input form-control"
                  placeholder="Season"
                  style="width: 300px"
                  [(ngModel)]="editMedia.image"
                />
                <br />
                <input
                  type="text"
                  name="episodeNum"
                  class="col form-input form-control"
                  placeholder="Episode Number"
                  style="width: 300px"
                  [(ngModel)]="editMedia.season"
                />
                <br />
                <input
                  type="text"
                  name="image"
                  class="col form-input form-control"
                  placeholder="Cartoon Image"
                  style="width: 300px"
                  [(ngModel)]="editMedia.season"
                />
                <br />
                <button
                  class="button"
                  (click)="updateMedia(editMedia); modal.dismiss('Cross click')"
                >
                  Add Media!
                </button>
              </form>
            </div>
          </form>
          <br /><br />
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer"></div>
</ng-template>

<!--------------------update cartoon modal  ------------------------>

<ng-template #cartoonModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Update Cartoon!</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form>
      <div class="mb-3">
        <div class="input-group">
          <form>
            <h1 class="justify-content-center"></h1>

            <div class="d-flex justify-content-center" *ngIf="editToon">
              <form class="text-center">
                Title:
                <input
                  type="text"
                  name="title"
                  class="col form-input form-control"
                  placeholder="Title"
                  style="width: 300px"
                  [(ngModel)]="editToon.name"
                />
                <br />
                URL:
                <input
                  type="text"
                  name="url"
                  class="col form-input form-control"
                  placeholder="URL"
                  style="width: 300px"
                  [(ngModel)]="editToon.url"
                />
                <br />
                Description:
                <input
                  type="text"
                  name="description"
                  class="col form-input form-control"
                  placeholder="Description"
                  style="width: 300px"
                  [(ngModel)]="editToon.description"
                />
                <br />
                Image:
                <input
                  type="text"
                  name="Image"
                  class="col form-input form-control"
                  placeholder="Image"
                  style="width: 300px"
                  [(ngModel)]="editToon.image"
                />
                <br />
                Airing Date:
                <input
                  type="date"
                  name="Airing Date"
                  class="col form-input form-control"
                  placeholder="Airing Date"
                  style="width: 300px"
                  [(ngModel)]="editToon.airingDate"
                />
                <br />
                Finale Date:
                <input
                  type="date"
                  name="finaleDate"
                  class="col form-input form-control"
                  placeholder="Finale Date"
                  style="width: 300px"
                  [(ngModel)]="editToon.finaleDate"
                />
                <br />
                <!-- Network:  <select name="network" id="" [(ngModel)]="editToon.network.id">
                  <option *ngFor="let network of networks" [value]="network.id">
                    {{network.name}}
                  </option>
                </select>
                <br />
              Rating:  <select name="rating" id="" [(ngModel)]="editToon.rating.id">
                  <option *ngFor="let rating of ratings" [value]="rating.id">
                    {{rating.rating}}
                  </option>
                </select> -->

                <button
                  class="button"
                  (click)="updateToon(); modal.dismiss('Cross click')"
                >
                  Update Toon!
                </button>
              </form>
            </div>
          </form>
          <br /><br />
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer"></div>
</ng-template>

<!-------------------------- Update merch modal--------------------->

<ng-template #merchModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Update Merchandise!</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form>
      <div class="mb-3">
        <div class="input-group">
          <form>
            <h1 class="justify-content-center">Merchandise Updated!</h1>

            <div class="d-flex justify-content-center" *ngIf="editMerch">
              <form class="text-center">
                <!-- <input
                  type="text"
                  name="url"
                  class="col form-input form-control"
                  placeholder="URL"
                  style="width: 300px"
                  [(ngModel)]="editMerch.url"
                />
                <br /> -->
                <input
                  type="text"
                  name="url"
                  class="col form-input form-control"
                  placeholder="url"
                  style="width: 300px"
                  [(ngModel)]="editMerch.url"
                />
                <br />
                <input
                  type="text"
                  name="image"
                  class="col form-input form-control"
                  placeholder="Image"
                  style="width: 300px"
                  [(ngModel)]="editMerch.image"
                />
                <br />
                <input
                  type="text"
                  name="description"
                  class="col form-input form-control"
                  placeholder="Description"
                  style="width: 300px"
                  [(ngModel)]="editMerch.description"
                />

                <button
                  class="button"
                  (click)="updateMerch(editMerch); modal.dismiss('Cross click')"
                >
                  Update Media!
                </button>
              </form>
            </div>
          </form>
          <br /><br />
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer"></div>
</ng-template>

<!------------------------------logged in user-------------------------------------->

<div class="row">
  <div class="card" style="width: 18rem" style="center: center">
    <div class="image-wrapper">
      <div class="column">
        <img
          class="card-img-topUser"
          src="{{ loggedIn.image }}"
          alt="Card image cap"
        />
      </div>
    </div>
    <div class="column">
      <div class="card-body">
        <h5 class="card-title" id="userName">{{ loggedIn.username }}</h5>
        <p class="card-text" id="userNames">
          {{ loggedIn.firstName }} {{ loggedIn.lastName }}
        </p>
        <p class="card-text" id="userBio">{{ loggedIn.bio }}</p>
      </div>
    </div>
    <div class="column">
      <br />
      <a
        id="userButton"
        class="button"
        data-bs-toggle="offcanvas"
        (click)="editUser = loggedIn; open(accountModal)"
        >Update User!</a
      >
      <br />
      <br />
      <br />
      <button
        class="button2"
        id="userDelete"
        (click)="delete(loggedIn.id)"
        [routerLink]="['/home']"
      >
        Delete User Profile
      </button>
    </div>
  </div>
</div>

<br />

<!----------------------------------media card----------------------------------->

<div class="row">
  <div class="column">
    <img src="assets/mediaADD.png" id="cartoonADDS" />
    <div *ngIf="loggedIn">
      <div class="anyClass">
        <div
          *ngFor="let media of userMedias"
          class="card2"
          style="width: 18rem"
          style="center: center"
        >
          <div class="image-wrapper">
            <img
              class="card-img-top"
              src="{{ media.image }}"
              alt="Card image cap"
            />
            <img />
          </div>
          <div class="card-body">
            <h5 class="card-title">{{ media.title }}</h5>
            <p class="card-text">
              Season: {{ media.season }} | Ep: {{ media.episodeNum }}
            </p>
            <span class="">
              <a
                class="button"
                data-bs-toggle="offcanvas"
                (click)="setEditMedia(media); openMedia(mediaModal)"
                >Update Media!</a
              >
              <button class="button2" (click)="deleteMedia(media.id)">X</button>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--------------------------merchandise card--------------------------------------->

  <div class="column">
    <img src="assets/merchADD.png" id="cartoonADDS" />
    <div *ngIf="loggedIn">
      <div class="anyClass">
        <div
          *ngFor="let merch of userMerchs"
          class="card2"
          style="width: 18rem"
          style="center: center"
        >
          <div class="image-wrapper">
            <img
              class="card-img-top"
              src="{{ merch.image }}"
              alt="Card image cap"
            />
            <img />
          </div>
          <div class="card-body">
            <h5 class="card-title">{{ merch.createdDate }}</h5>
            <p class="card-text">{{ merch.description }}</p>
            <span class="">
              <a
                class="button"
                data-bs-toggle="offcanvas"
                (click)="setEditMerch(merch); open(merchModal)"
                >Update Merch!</a
              >
              <button class="button2" (click)="deleteMerch(merch.id)">X</button>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-------------------------cartoons card------------------------------->

  <div class="column">
    <img src="assets/cartoonADDS.png" id="cartoonADDS" />
    <div *ngIf="loggedIn">
      <div class="anyClass">
        <div
          *ngFor="let toon of userToons"
          class="card2"
          style="width: 18rem"
          style="center: center"
        >
          <div class="image-wrapper">
            <img
              class="card-img-top"
              src="{{ toon.image }}"
              alt="Card image cap"
            />
            <img />
          </div>
          <div class="card-body">
            <h5 class="card-title">{{ toon.name }}</h5>
            <p class="card-text">{{ toon.description }}</p>
            <span class="">
              <a
                class="button"
                data-bs-toggle="offcanvas"
                (click)="setEdit(toon); openCartoon(cartoonModal)"
                >Update Cartoon!</a
              >
              <button class="button2" (click)="deleteToon(toon.id)">X</button>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-----------------------------------------user comments--------------------------------------------------->



<!-- <div *ngIf="loggedIn">
  <div class="cardComment">
    <div class="card-body" *ngFor="let i of userComments">
      <table>
        <tr>
          <td class="card-title">{{ i.comment }}</td>
          <td>
            <a
              class="button2"
              (click)="deleteComment(i)"
              [routerLink]="['/account']"
              >X</a
            >
          </td>
        </tr>
      </table>
    </div>
  </div>
</div> -->

<div *ngIf="loggedIn">
  <div class="cardComment">
    <table class="table table-hover">
      <thead class="table-light">
        <tr>
          <th>Comment</th>
          <th>Delete</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let i of userComments">
          <td>{{ i.comment }}</td>
          <td>
            <button
            class="btn btn-danger"
            (click)="deleteComment(i)"
            [routerLink]="['/account']"
          >
            X
          </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
